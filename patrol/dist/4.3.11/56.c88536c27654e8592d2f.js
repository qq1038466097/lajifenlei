webpackJsonp([56],{804:function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var r=t(3),u=n(r),p=t(209),s=n(p),c=t(147),d=n(c);t(210);var i=t(319);a.default={namespace:"proType",state:{data:[],paginationG:{},searchList:{},pageindex:1,pagesize:10},subscriptions:{setup:function(e){var a=e.dispatch;e.history.listen(function(e){if("/pro/proType"===e.pathname){a({type:"clearData"});var t={};t.pageIndex=1,t.pageSize=10,a({type:"queryRule",payload:t})}})}},effects:{queryRule:d.default.mark(function e(a,t){var n,r,u,p=a.payload,s=t.call,c=t.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(i.dotTypeList,p);case 2:if(n=e.sent,200!=n.code||null===n.data.data){e.next=12;break}return r={},r.total=n.data.totalCount,r.pageSize=n.data.pageSize,r.current=n.data.currentIndex,u=Math.ceil(n.data.totalCount/n.data.pageSize),r.pageCount=u,e.next=12,c({type:"querySuccess",payload:n.data.data,page:r});case 12:case"end":return e.stop()}},e,this)}),delDotType:d.default.mark(function e(a,t){var n,r,u=a.payload,p=t.call,c=t.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(i.typeDel,u);case 2:if(n=e.sent,200!=n.code){e.next=12;break}return s.default.success("\u5220\u9664\u6210\u529f!"),r={},r.pageIndex=1,r.pageSize=10,e.next=10,c({type:"queryRule",payload:r});case 10:e.next=13;break;case 12:s.default.error("\u5220\u9664\u5931\u8d25\uff0c"+n.msg);case 13:case"end":return e.stop()}},e,this)})},reducers:{clearData:function(e){return{data:[],paginationG:{},searchList:{},pageindex:1,pagesize:10}},querySuccess:function(e,a){return(0,u.default)({},e,{data:a.payload,paginationG:a.page})},setPage:function(e,a){return(0,u.default)({},e,{pageindex:a.payload,pagesize:a.size})}}},e.exports=a.default}});