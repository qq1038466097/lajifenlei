webpackJsonp([63],{814:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),u=n(r),s=a(209),l=n(s),o=a(147),d=n(o);a(210);var i=a(319),c=a(60);t.default={namespace:"dotRuleEdit",state:{listData:[],infos:{}},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen(function(e){if("/pro/dotRule/Edit"===e.pathname){t({type:"clearData"});var a={};a.ruleId=(0,c.getQueryStringHash)("ids"),t({type:"queryInfo",payload:a})}})}},effects:{queryInfo:d.default.mark(function e(t,a){var n,r,u,s,l,o=t.payload,c=a.call,f=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(i.ruleInfo,o);case 2:if(n=e.sent,200!=n.code){e.next=12;break}if(null===n.data||null===n.data.checkRuleItems){e.next=12;break}return e.next=7,f({type:"setinfos",payload:n.data});case 7:for(r=n.data.checkRuleItems,u=[],s=0;s<r.length;s++)l={},l.ids=s+1,l.val=r[s].itemText,l.idd=r[s].itemId,u.push(l);return e.next=12,f({type:"listData",payload:u});case 12:case"end":return e.stop()}},e,this)}),addRules:d.default.mark(function e(t,a){var n,r=t.payload,u=a.call;a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(i.ruleAdd,r);case 2:n=e.sent,200==n.code?(l.default.success("\u6dfb\u52a0\u6210\u529f!"),setTimeout(function(){history.go(-1)},500)):l.default.error("\u6dfb\u52a0\u5931\u8d25!");case 4:case"end":return e.stop()}},e,this)})},reducers:{clearData:function(e){return(0,u.default)({},e,{listData:[]})},setinfos:function(e,t){return(0,u.default)({},e,{infos:t.payload})},listData:function(e,t){return(0,u.default)({},e,{listData:t.payload})}}},e.exports=t.default}});