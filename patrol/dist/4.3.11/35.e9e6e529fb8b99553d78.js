webpackJsonp([35],{792:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(3),u=n(r),s=a(209),c=n(s),d=a(147),i=n(d),p=a(342),l=n(p);a(210);var o=a(319);a(60);e.default={namespace:"taskList",state:{data:[],paginationG:{},searchList:{},pageindex:1,pagesize:10,classifyData:[],typedata:[],timeData:[]},subscriptions:{setup:function(t){var e=t.dispatch;t.history.listen(function(t){"/task/taskList"===t.pathname&&(e({type:"clearData"}),e({type:"queryHistory"}))})}},effects:{queryHistory:i.default.mark(function t(e,a){var n,r,u,s=(a.call,a.put),c=a.select;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(0,l.default)(e),t.next=3,c(function(t){return t.taskList});case 3:return n=t.sent,r=n.searchList,u={},u.resetId="current",t.next=9,s({type:"queryRule",payload:u});case 9:return t.next=11,s({type:"queryTypes",payload:{}});case 11:return t.next=13,s({type:"timeDatas",payload:{}});case 13:case"end":return t.stop()}},t,this)}),timeDatas:i.default.mark(function t(e,a){var n,r=e.payload,u=a.call,s=a.put;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(o.timedataApi,r);case 2:if(n=t.sent,200!=n.code||null===n.data.data){t.next=6;break}return t.next=6,s({type:"timeData",payload:n.data.data});case 6:case"end":return t.stop()}},t,this)}),queryTypes:i.default.mark(function t(e,a){var n,r=e.payload,u=a.call,s=a.put;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(o.dotTypeList,r);case 2:if(n=t.sent,200!=n.code||null===n.data.data){t.next=6;break}return t.next=6,s({type:"typedata",payload:n.data.data});case 6:case"end":return t.stop()}},t,this)}),dotDelete:i.default.mark(function t(e,a){var n,r,u=e.payload,s=e.searchList,d=a.call,p=a.put;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(o.dotDel,u);case 2:if(n=t.sent,200!=n.code){t.next=9;break}return c.default.success("\u5220\u9664\u6210\u529f!"),r=s,r.status=1,t.next=9,p({type:"queryRule",payload:r});case 9:case"end":return t.stop()}},t,this)}),queryRule:i.default.mark(function t(e,a){var n,r,u,s,c=e.payload,d=a.call,p=a.put;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(o.taskLisks,c);case 2:if(n=t.sent,200!=n.code){t.next=22;break}if(null!=n.data.data&&0!=n.data.data.length){t.next=14;break}return r={},r.total=0,r.pageSize=0,r.current=0,r.pageCount=0,t.next=12,p({type:"querySuccess",payload:[],page:r});case 12:t.next=22;break;case 14:return u={},u.total=n.data.totalCount,u.pageSize=n.data.pageSize,u.current=n.data.currentIndex,s=Math.ceil(n.data.totalCount/n.data.pageSize),u.pageCount=s,t.next=22,p({type:"querySuccess",payload:n.data,page:u});case 22:case"end":return t.stop()}},t,this)})},reducers:{clearData:function(t){return(0,u.default)({},t,{data:[],paginationG:{},searchList:{},pageindex:1,pagesize:10,classifyData:[],timeData:[]})},timeData:function(t,e){return(0,u.default)({},t,{timeData:e.payload})},typedata:function(t,e){return(0,u.default)({},t,{typedata:e.payload})},queryClassData:function(t,e){return(0,u.default)({},t,{classifyData:e.payload})},querySuccess:function(t,e){return(0,u.default)({},t,{data:e.payload,paginationG:e.page})},searchList:function(t,e){return(0,u.default)({},t,{searchList:e.payload})},setPage:function(t,e){return(0,u.default)({},t,{pageindex:e.payload,pagesize:e.size})}}},t.exports=e.default}});