webpackJsonp([52],{778:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(3),n=r(u),s=a(209),d=r(s),c=a(147),l=r(c);a(210);var o=a(319),p=a(60);t.default={namespace:"dotTypeEdit",state:{data:[],ruleData:[]},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen(function(e){if("/dotType/Edit"===e.pathname){t({type:"clearData"});var a={};a.type=(0,p.getQueryStringHash)("ids"),t({type:"queryRule",payload:a});var r={};r.pageSize=100,t({type:"getRule",payload:r})}})}},effects:{getRule:l.default.mark(function e(t,a){var r,u=t.payload,n=a.call,s=a.put;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(o.ruleList,u);case 2:if(r=e.sent,200!=r.code||null===r.data.data){e.next=6;break}return e.next=6,s({type:"setRule",payload:r.data.data});case 6:case"end":return e.stop()}},e,this)}),queryRule:l.default.mark(function e(t,a){var r,u=t.payload,n=a.call,s=a.put;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(o.dotTypeDetail,u);case 2:if(r=e.sent,200!=r.code){e.next=6;break}return e.next=6,s({type:"querySuccess",payload:r.data});case 6:case"end":return e.stop()}},e,this)}),addTypes:l.default.mark(function e(t,a){var r,u=t.payload,n=a.call;a.put;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(o.typeAdd,u);case 2:r=e.sent,200==r.code&&(d.default.success("\u4fee\u6539\u6210\u529f!"),setTimeout(function(){history.go(-1)},500));case 4:case"end":return e.stop()}},e,this)})},reducers:{clearData:function(e){return(0,n.default)({},e,{data:[],ruleData:[]})},setRule:function(e,t){return(0,n.default)({},e,{ruleData:t.payload})},querySuccess:function(e,t){return(0,n.default)({},e,{data:t.payload})},listData:function(e,t){return(0,n.default)({},e,{listData:t.payload})}}},e.exports=t.default}});