webpackJsonp([53],{776:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),u=n(r),s=a(209),d=n(s),p=a(147),c=n(p);a(210);var l=a(319);t.default={namespace:"dotTypeAdd",state:{typeData:[],ruleData:[]},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen(function(e){if("/dotType/Add"===e.pathname){t({type:"clearData"});var a={};a.pageSize=100,t({type:"getTypes",payload:a});var n={};n.pageSize=100,t({type:"getRule",payload:n})}})}},effects:{getRule:c.default.mark(function e(t,a){var n,r=t.payload,u=a.call,s=a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(l.ruleList,r);case 2:if(n=e.sent,200!=n.code||null===n.data.data){e.next=6;break}return e.next=6,s({type:"setRule",payload:n.data.data});case 6:case"end":return e.stop()}},e,this)}),getTypes:c.default.mark(function e(t,a){var n,r=t.payload,u=a.call,s=a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(l.dotTypeList,r);case 2:if(n=e.sent,200!=n.code||null===n.data.data){e.next=6;break}return e.next=6,s({type:"setType",payload:n.data.data});case 6:case"end":return e.stop()}},e,this)}),addTypes:c.default.mark(function e(t,a){var n,r=t.payload,u=a.call;a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(l.typeAdd,r);case 2:n=e.sent,200==n.code&&(d.default.success("\u65b0\u589e\u6210\u529f!"),setTimeout(function(){history.go(-1)},500));case 4:case"end":return e.stop()}},e,this)})},reducers:{clearData:function(e){return(0,u.default)({},e,{typeData:[],ruleData:[]})},setRule:function(e,t){return(0,u.default)({},e,{ruleData:t.payload})},setType:function(e,t){return(0,u.default)({},e,{typeData:t.payload})}}},e.exports=t.default}});