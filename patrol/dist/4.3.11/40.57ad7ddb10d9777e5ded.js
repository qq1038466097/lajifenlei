webpackJsonp([40],{832:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),u=r(n),s=a(209),d=r(s),o=a(147),c=r(o);a(210);var l=a(319);a(60),a(89);t.default={namespace:"user",state:{data:[],paginationG:{},searchList:{},pageindex:1,pagesize:10,orgs:[],chooseId:"",editForm:!1,roleData:[],selectedRowKeys:[]},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen(function(e){if("/user"===e.pathname){var a={};t({type:"queryRule",payload:a}),t({type:"queryRole",payload:a})}})}},effects:{queryRole:c.default.mark(function e(t,a){var r,n=t.payload,u=a.call,s=a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(l.roleBindList,n);case 2:if(r=e.sent,200!=r.code||null===r.data.data){e.next=6;break}return e.next=6,s({type:"roleData",payload:r.data.data});case 6:case"end":return e.stop()}},e,this)}),queryRule:c.default.mark(function e(t,a){var r,n,u,s,d,o,p=t.payload,i=a.call,f=a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(l.getUser,p);case 2:if(r=e.sent,200!=r.code){e.next=24;break}if(null!=r.data.data&&0!=r.data.data.length){e.next=14;break}return n={},n.total=0,n.pageSize=0,n.current=0,n.pageCount=0,e.next=12,f({type:"querySuccess",payload:[],page:n});case 12:e.next=24;break;case 14:for(u={},u.total=r.data.totalCount,u.pageSize=r.data.pageSize,u.current=r.data.currentIndex,s=Math.ceil(r.data.totalCount/r.data.pageSize),u.pageCount=s,d=r.data.data,o=0;o<d.length;o++)d[o].key=d[o].employeeId;return e.next=24,f({type:"querySuccess",payload:d,page:u});case 24:case"end":return e.stop()}},e,this)}),proDelete:c.default.mark(function e(t,a){var r,n,u=t.payload,s=(t.selected,a.call),o=a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(l.delUser,u);case 2:if(r=e.sent,200!=r.code){e.next=10;break}return d.default.success("\u5220\u9664\u6210\u529f!"),n={},e.next=8,o({type:"queryRule",payload:n});case 8:e.next=11;break;case 10:d.default.error("\u5220\u9664\u5931\u8d25\uff0c"+r.msg);case 11:case"end":return e.stop()}},e,this)}),dotDeleteMore:c.default.mark(function e(t,a){var r,n=t.payload,u=a.call;a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(l.delUser,n);case 2:r=e.sent;case 3:case"end":return e.stop()}},e,this)}),resetpwd:c.default.mark(function e(t,a){var r,n=t.payload,u=a.call;a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(l.resetPwdUser,n);case 2:r=e.sent,200==r.code?d.default.success("\u91cd\u7f6e\u5bc6\u7801\u6210\u529f!"):d.default.error("\u91cd\u7f6e\u5bc6\u7801\u5931\u8d25\uff0c"+r.msg);case 4:case"end":return e.stop()}},e,this)}),editpwd:c.default.mark(function e(t,a){var r,n=t.payload,u=a.call;a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(l.editPwdUser,n);case 2:r=e.sent,200==r.code?d.default.success("\u5bc6\u7801\u4fee\u6539\u6210\u529f!"):d.default.error("\u5bc6\u7801\u4fee\u6539\u5931\u8d25\uff0c"+r.msg);case 4:case"end":return e.stop()}},e,this)})},reducers:{clearData:function(e){return(0,u.default)({},e,{data:[],paginationG:{},searchList:{},pageindex:1,pagesize:10,orgs:[],chooseId:"",selectedRowKeys:[]})},selectedRowKeys:function(e,t){return(0,u.default)({},e,{selectedRowKeys:t.payload})},roleData:function(e,t){return(0,u.default)({},e,{roleData:t.payload})},editForm:function(e,t){return(0,u.default)({},e,{editForm:t.payload})},setOrg:function(e,t){return(0,u.default)({},e,{orgs:t.payload})},chooseId:function(e,t){return(0,u.default)({},e,{chooseId:t.payload})},selected:function(e,t){return(0,u.default)({},e,{selected:t.payload})},querySuccess:function(e,t){return(0,u.default)({},e,{data:t.payload,paginationG:t.page})},searchList:function(e,t){return(0,u.default)({},e,{searchList:t.payload})},setPage:function(e,t){return(0,u.default)({},e,{pageindex:t.payload,pagesize:t.size})}}},e.exports=t.default}});